<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Detail - HKO Signal 8 Validation</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/event.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Language Toggle -->
    <div class="language-toggle">
        <button id="lang-en" class="active" onclick="switchLanguage('en')">EN</button>
        <button id="lang-zh" onclick="switchLanguage('zh')">‰∏≠</button>
    </div>

    <!-- Navigation -->
    <nav class="nav-bar">
        <div class="container">
            <a href="index.html" class="nav-back">‚Üê <span data-en="Back to Timeline" data-zh="ËøîÂõûÊôÇÈñìËª∏">Back to Timeline</span></a>
        </div>
    </nav>

    <!-- Event Header -->
    <section class="event-detail-header">
        <div class="container">
            <div class="event-icon-large" id="event-icon">üå™Ô∏è</div>
            <h1 class="event-detail-title" id="event-title">Loading...</h1>
            <p class="event-detail-date" id="event-date"></p>
        </div>
    </section>

    <!-- Executive Summary -->
    <section class="executive-summary">
        <div class="container">
            <div class="summary-panel">
                <h2 data-en="Executive Summary" data-zh="Âü∑Ë°åÊëòË¶Å">Executive Summary</h2>
                <div class="verdict-box" id="verdict-box">
                    <div class="verdict-icon" id="verdict-icon">‚úÖ</div>
                    <div class="verdict-content">
                        <h3 class="verdict-title" id="verdict-title">Loading...</h3>
                        <p class="verdict-text" id="verdict-text"></p>
                    </div>
                </div>
                
                <div class="summary-stats" id="summary-stats">
                    <!-- Stats will be dynamically loaded -->
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Comparison Chart -->
    <section class="chart-section">
        <div class="container">
            <h2 class="section-title" data-en="Timeline Comparison" data-zh="ÊôÇÈñìÂ∞çÊØî">Timeline Comparison</h2>
            <p class="section-subtitle" data-en="Official Signal 8 period vs. Algorithm detection" data-zh="ÂÆòÊñπÂÖ´ËôüÈ¢®ÁêÉÊúüÈñìËàáÊºîÁÆóÊ≥ïÊ™¢Ê∏¨Â∞çÊØî">
                Official Signal 8 period vs. Algorithm detection
            </p>
            
            <div class="chart-container">
                <canvas id="timeline-chart"></canvas>
            </div>
            
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-color" style="background: rgba(255, 107, 53, 0.3);"></span>
                    <span data-en="Official Signal 8 Period" data-zh="ÂÆòÊñπÂÖ´ËôüÈ¢®ÁêÉÊúüÈñì">Official Signal 8 Period</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color" style="background: rgba(0, 78, 137, 0.3);"></span>
                    <span data-en="Algorithm Persistent T8 Detection" data-zh="ÊºîÁÆóÊ≥ïÊåÅÁ∫åÁÉàÈ¢®Ê™¢Ê∏¨">Algorithm Persistent T8 Detection</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color" style="background: rgba(220, 53, 69, 1); width: 20px; height: 2px;"></span>
                    <span data-en="T8 Threshold (63 km/h)" data-zh="ÂÖ´ËôüÈ¢®ÁêÉÈñÄÊ™ª (63 km/h)">T8 Threshold (63 km/h)</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Station Wind Data -->
    <section class="station-section">
        <div class="container">
            <h2 class="section-title" data-en="Station Wind Summary" data-zh="Ê∏¨Á´ôÈ¢®ÈÄüÊëòË¶Å">Station Wind Summary</h2>
            <p class="section-subtitle" data-en="Peak wind speeds recorded at reference stations" data-zh="ÂèÉËÄÉÊ∏¨Á´ôË®òÈåÑÁöÑÊúÄÈ´òÈ¢®ÈÄü">
                Peak wind speeds recorded at reference stations
            </p>
            
            <div class="station-grid" id="station-grid">
                <!-- Station cards will be dynamically loaded -->
            </div>
        </div>
    </section>

    <!-- Explanation Section -->
    <section class="explanation-section">
        <div class="container">
            <h2 class="section-title" data-en="Why the Time Difference?" data-zh="ÁÇ∫‰ΩïÊúâÊôÇÈñìÂ∑ÆÔºü">Why the Time Difference?</h2>
            
            <div class="accordion">
                <div class="accordion-item">
                    <button class="accordion-header" onclick="toggleAccordion(0)">
                        <span data-en="üîÆ Forecast vs. Observation" data-zh="üîÆ È†êÂ†±ËàáËßÄÊ∏¨">üîÆ Forecast vs. Observation</span>
                        <span class="accordion-icon">+</span>
                    </button>
                    <div class="accordion-content">
                        <p data-en="HKO issues signals based on expected conditions (forecast), not just current observations. This allows for early warning and public preparation time before dangerous conditions materialize." data-zh="Â§©ÊñáÂè∞Ê†πÊìöÈ†êÊúüÊÉÖÊ≥ÅÔºàÈ†êÂ†±ÔºâËÄåÈùûÂÉÖÁï∂ÂâçËßÄÊ∏¨ÁôºÂá∫‰ø°Ëôü„ÄÇÈÄôÂÖÅË®±Âú®Âç±Èö™ÊÉÖÊ≥ÅÂá∫ÁèæÂâçÊèê‰æõÈ†êË≠¶ÂíåÂÖ¨ÁúæÊ∫ñÂÇôÊôÇÈñì„ÄÇ">
                            HKO issues signals based on expected conditions (forecast), not just current observations. 
                            This allows for early warning and public preparation time before dangerous conditions materialize.
                        </p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <button class="accordion-header" onclick="toggleAccordion(1)">
                        <span data-en="üì° Early Warning Value" data-zh="üì° È†êË≠¶ÂÉπÂÄº">üì° Early Warning Value</span>
                        <span class="accordion-icon">+</span>
                    </button>
                    <div class="accordion-content">
                        <p data-en="The lead time between signal issuance and observed gale conditions represents valuable preparation time for residents to secure property, cancel outdoor activities, and seek shelter." data-zh="‰ø°ËôüÁôºÂá∫ËàáËßÄÊ∏¨Âà∞ÁÉàÈ¢®‰πãÈñìÁöÑÊèêÂâçÊôÇÈñì‰ª£Ë°®Â±ÖÊ∞ëÊ∫ñÂÇôÁöÑÂØ∂Ë≤¥ÊôÇÈñìÔºåÂåÖÊã¨Âõ∫ÂÆöÁâ©ÂìÅ„ÄÅÂèñÊ∂àÊà∂Â§ñÊ¥ªÂãïÂèäÂ∞ãÊâæÂ∫áË≠∑ÊâÄ„ÄÇ">
                            The lead time between signal issuance and observed gale conditions represents valuable 
                            preparation time for residents to secure property, cancel outdoor activities, and seek shelter.
                        </p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <button class="accordion-header" onclick="toggleAccordion(2)">
                        <span data-en="üó∫Ô∏è Spatial Coverage Differences" data-zh="üó∫Ô∏è Á©∫ÈñìË¶ÜËìãÂ∑ÆÁï∞">üó∫Ô∏è Spatial Coverage Differences</span>
                        <span class="accordion-icon">+</span>
                    </button>
                    <div class="accordion-content">
                        <p data-en="HKO considers high-ground and offshore stations not included in our reference network. Exposed hilltops and coastal areas often experience stronger winds before lowland urban areas." data-zh="Â§©ÊñáÂè∞ËÄÉÊÖÆÊàëÂÄëÂèÉËÄÉÁ∂≤Áµ°Êú™ÂåÖÂê´ÁöÑÈ´òÂú∞ÂèäÈõ¢Â≤∏Ê∏¨Á´ô„ÄÇÊö¥Èú≤ÁöÑÂ±±È†ÇÂèäÊ≤øÂ≤∏Âú∞ÂçÄÈÄöÂ∏∏Âú®‰ΩéÂú∞Â∏ÇÂçÄ‰πãÂâçÁ∂ìÊ≠∑ËºÉÂº∑È¢®Âäõ„ÄÇ">
                            HKO considers high-ground and offshore stations not included in our reference network. 
                            Exposed hilltops and coastal areas often experience stronger winds before lowland urban areas.
                        </p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <button class="accordion-header" onclick="toggleAccordion(3)">
                        <span data-en="‚úÖ Conclusion" data-zh="‚úÖ ÁµêË´ñ">‚úÖ Conclusion</span>
                        <span class="accordion-icon">+</span>
                    </button>
                    <div class="accordion-content">
                        <p data-en="Time differences between official signals and algorithm detection are expected and appropriate. They reflect forecast-based early warning rather than premature issuance. This study validates HKO's adherence to published standards." data-zh="ÂÆòÊñπ‰ø°ËôüËàáÊºîÁÆóÊ≥ïÊ™¢Ê∏¨‰πãÈñìÁöÑÊôÇÈñìÂ∑ÆÊòØÈ†êÊúü‰∏îÈÅ©Áï∂ÁöÑ„ÄÇÂÆÉÂÄëÂèçÊò†Âü∫ÊñºÈ†êÂ†±ÁöÑÈ†êË≠¶ËÄåÈùûÈÅéÊó©ÁôºÂá∫„ÄÇÊú¨Á†îÁ©∂È©óË≠âÂ§©ÊñáÂè∞ÈÅµÂÆàÂ∑≤ÂÖ¨Â∏ÉÁöÑÊ®ôÊ∫ñ„ÄÇ">
                            Time differences between official signals and algorithm detection are expected and appropriate. 
                            They reflect forecast-based early warning rather than premature issuance. This study validates 
                            HKO's adherence to published standards.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- View Figures -->
    <section class="figures-section">
        <div class="container">
            <h2 class="section-title" data-en="Detailed Analysis Figures" data-zh="Ë©≥Á¥∞ÂàÜÊûêÂúñË°®">Detailed Analysis Figures</h2>
            
            <div class="figures-grid">
                <div class="figure-card">
                    <h3 data-en="Timeline Comparison" data-zh="ÊôÇÈñìÂ∞çÊØî">Timeline Comparison</h3>
                    <img id="timeline-figure" src="" alt="Timeline comparison chart" onerror="this.style.display='none'">
                </div>
                <div class="figure-card">
                    <h3 data-en="Station Heatmap" data-zh="Ê∏¨Á´ôÁÜ±ÂäõÂúñ">Station Heatmap</h3>
                    <img id="heatmap-figure" src="" alt="Station wind heatmap" onerror="this.style.display='none'">
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 data-en="About This Project" data-zh="ÈóúÊñºÊú¨È†ÖÁõÆ">About This Project</h4>
                    <p data-en="Independent validation study of HKO Signal 8 timing. Not official, for transparency and education." data-zh="Â§©ÊñáÂè∞ÂÖ´ËôüÈ¢®ÁêÉÊôÇÊ©üÁöÑÁç®Á´ãÈ©óË≠âÁ†îÁ©∂„ÄÇÈùûÂÆòÊñπÔºåÊó®Âú®ÊèêÈ´òÈÄèÊòéÂ∫¶ÂíåÊïôËÇ≤„ÄÇ">
                        Independent validation study of HKO Signal 8 timing. Not official, for transparency and education.
                    </p>
                </div>
                <div class="footer-section">
                    <h4 data-en="Quick Links" data-zh="Âø´ÈÄüÈÄ£Áµê">Quick Links</h4>
                    <ul>
                        <li><a href="index.html" data-en="Home" data-zh="‰∏ªÈ†Å">Home</a></li>
                        <li><a href="methodology.html" data-en="Methodology" data-zh="ÊñπÊ≥ïË´ñ">Methodology</a></li>
                        <li><a href="data.html" data-en="Data Download" data-zh="Êï∏Êìö‰∏ãËºâ">Data Download</a></li>
                        <li><a href="about.html" data-en="About" data-zh="ÈóúÊñº">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-en="Navigation" data-zh="Â∞éËà™">Navigation</h4>
                    <p><a href="index.html" style="color: var(--accent-color);" data-en="‚Üê Back to Timeline" data-zh="‚Üê ËøîÂõûÊôÇÈñìËª∏">‚Üê Back to Timeline</a></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/language.js"></script>
    <script src="js/event.js"></script>
</body>
</html>

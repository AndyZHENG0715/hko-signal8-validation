<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compare Events - HKO Signal 8 Transparency Portal</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <style>
        .compare-layout {display:grid; grid-template-columns:260px 1fr; gap:1.25rem; align-items:start;}
        .selector-panel {background:#ffffff; border:1px solid #e0e6eb; border-radius:10px; padding:1rem;}
        .selector-panel h2 {font-size:1rem; margin:0 0 .75rem 0;}
        .selector-panel ul {list-style:none; padding:0; margin:0 0 .75rem 0; max-height:360px; overflow:auto;}
        .selector-panel li {margin:0 0 .35rem 0; font-size:.85rem;}
        .selector-actions {display:flex; gap:.5rem; flex-wrap:wrap;}
        .selector-actions button {background:var(--accent-color); color:#fff; border:none; padding:.4rem .7rem; border-radius:5px; font-size:.75rem; cursor:pointer;}
        .selector-actions button.secondary {background:#6c7784;}
        .selector-actions button:hover {opacity:.85;}
        table.compare-table {width:100%; border-collapse:collapse; font-size:.8rem; background:#fff; border:1px solid #e0e6eb; border-radius:10px; overflow:hidden;}
        table.compare-table th {background:#f3f6f9; text-align:left; padding:.55rem .6rem; font-weight:600; border-bottom:1px solid #e0e6eb; font-size:.7rem; letter-spacing:.03em;}
        table.compare-table td {padding:.45rem .6rem; border-bottom:1px solid #f0f2f4;}
        table.compare-table tr:last-child td {border-bottom:none;}
        .tier-verified {background:rgba(0,200,83,0.12); color:#056635; font-weight:600;}
        .tier-pattern_validated {background:rgba(255,193,7,0.18); color:#8b6500; font-weight:600;}
        .tier-unverified {background:rgba(220,53,69,0.12); color:#b21f33; font-weight:600;}
        .tier-no_signal {background:#eee; color:#555; font-weight:600;}
        .sparkline-grid {display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1rem; margin-top:1.25rem;}
        .sparkline-card {background:#ffffff; border:1px solid #e0e6eb; border-radius:10px; padding:.5rem .6rem;}
        .sparkline-card canvas {height:80px !important; width:100%;}
        .sparkline-card h3 {margin:.2rem 0 .4rem 0; font-size:.7rem; font-weight:600; letter-spacing:.04em; color:#004e89;}
        .disclaimer {font-size:.7rem; color:#555; margin-top:.75rem; line-height:1.4; background:#fffbeb; padding:.6rem .8rem; border-left:3px solid #f59e0b; border-radius:4px;}
        .empty-note {font-size:.75rem; color:#777; margin:.75rem 0;}
        @media (max-width:900px){.compare-layout{grid-template-columns:1fr;} .selector-panel{order:2;} }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <!-- Main Navigation -->
    <nav class="main-nav" role="navigation" aria-label="Primary">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="nav-logo">
                    <span class="logo-icon">üå™Ô∏è</span>
                    <span class="logo-text">HKO Signal 8 Portal</span>
                </a>
                <div class="nav-links">
                    <a href="index.html" class="nav-link" data-en="Home" data-zh="‰∏ªÈ†Å">Home</a>
                    <a href="methodology.html" class="nav-link" data-en="Methodology" data-zh="ÊñπÊ≥ïË´ñ">Methodology</a>
                    <a href="compare.html" class="nav-link active" data-en="Compare" data-zh="ÊØîËºÉ">Compare</a>
                    <a href="data.html" class="nav-link" data-en="Data" data-zh="Êï∏Êìö">Data</a>
                    <a href="audit.html" class="nav-link" data-en="Audit" data-zh="ÂØ©Ê†∏">Audit</a>
                    <a href="about.html" class="nav-link" data-en="About" data-zh="ÈóúÊñº">About</a>
                </div>
            </div>
        </div>
    </nav>

    <main id="main-content" class="container" style="padding-top:1.5rem;">
        <h1 style="margin:0 0 .75rem 0;" data-en="Multi‚ÄëEvent Comparison" data-zh="Â§ö‰∫ã‰ª∂ÊØîËºÉ">Multi‚ÄëEvent Comparison</h1>
        <p style="margin:0 0 1.25rem 0; font-size:.85rem; color:#444;" data-en="Select typhoon events to compare observed verification metrics side‚Äëby‚Äëside." data-zh="ÈÅ∏ÊìáÈ¢±È¢®‰∫ã‰ª∂‰ª•‰∏¶ÂàóÊØîËºÉËßÄÊ∏¨È©óË≠âÊåáÊ®ô„ÄÇ">Select typhoon events to compare observed verification metrics side‚Äëby‚Äëside.</p>

        <div class="compare-layout">
            <!-- Selector Panel -->
            <aside class="selector-panel">
                <h2 data-en="Select Events" data-zh="ÈÅ∏Êìá‰∫ã‰ª∂">Select Events</h2>
                <ul id="event-selector"></ul>
                <div class="selector-actions">
                    <button id="select-all" type="button" data-en="Select All" data-zh="ÂÖ®ÈÅ∏">Select All</button>
                    <button id="clear-selection" type="button" class="secondary" data-en="Clear" data-zh="Ê∏ÖÈô§">Clear</button>
                    <button id="apply-selection" type="button" class="secondary" data-en="Update" data-zh="Êõ¥Êñ∞">Update</button>
                </div>
                <div class="disclaimer" data-en="Observation tiers do not judge HKO's forecast decision‚Äîthey classify what was later observed at lowland reference stations." data-zh="ËßÄÊ∏¨Â±§Á¥ö‰∏çË©ïÂÉπÂ§©ÊñáÂè∞È†êÂ†±Ê±∫Á≠ñ‚Äî‚ÄîÂÉÖÂàÜÈ°û‰ΩéÂú∞ÂèÉËÄÉÊ∏¨Á´ôÂæå‰æÜËßÄÊ∏¨Âà∞ÁöÑÊÉÖÊ≥Å„ÄÇ">Observation tiers do not judge HKO's forecast decision‚Äîthey classify what was later observed at lowland reference stations.</div>
            </aside>

            <!-- Results Panel -->
            <section>
                <table class="compare-table" aria-describedby="comparison-caption">
                    <caption id="comparison-caption" style="display:none;">Comparison of selected typhoon events across verification metrics</caption>
                    <thead>
                        <tr>
                            <th data-en="Event" data-zh="‰∫ã‰ª∂">Event</th>
                            <th data-en="Tier" data-zh="Â±§Á¥ö">Tier</th>
                            <th data-en="Official (min)" data-zh="ÂÆòÊñπ (ÂàÜÈêò)">Official (min)</th>
                            <th data-en="Sustained (min)" data-zh="ÊåÅÁ∫åËßÄÊ∏¨ (ÂàÜÈêò)">Sustained (min)</th>
                            <th data-en="Coverage %" data-zh="Ë¶ÜËìãÁéá %">Coverage %</th>
                            <th data-en="Early Warning Time" data-zh="ÊèêÂâçÈ†êË≠¶ÊôÇÈñì">Early Warning Time</th>
                        </tr>
                    </thead>
                    <tbody id="compare-tbody"></tbody>
                </table>
                <div id="empty-note" class="empty-note" style="display:none;" data-en="No events selected" data-zh="Êú™ÈÅ∏Êìá‰∫ã‰ª∂">No events selected</div>

                <div class="sparkline-grid" id="sparkline-grid"></div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" style="margin-top:2rem;">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 data-en="Quick Links" data-zh="Âø´ÈÄüÈÄ£Áµê">Quick Links</h4>
                    <ul>
                        <li><a href="index.html" data-en="Home" data-zh="‰∏ªÈ†Å">Home</a></li>
                        <li><a href="methodology.html" data-en="Methodology" data-zh="ÊñπÊ≥ïË´ñ">Methodology</a></li>
                        <li><a href="compare.html" data-en="Compare" data-zh="ÊØîËºÉ">Compare</a></li>
                        <li><a href="data.html" data-en="Data" data-zh="Êï∏Êìö">Data</a></li>
                        <li><a href="audit.html" data-en="Audit" data-zh="ÂØ©Ê†∏">Audit</a></li>
                        <li><a href="about.html" data-en="About" data-zh="ÈóúÊñº">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-en="Transparency" data-zh="ÈÄèÊòéÂ∫¶">Transparency</h4>
                    <p style="font-size:.7rem;" data-en="All datasets & code open source." data-zh="ÊâÄÊúâÊï∏ÊìöËàá‰ª£Á¢ºÈñãÊ∫ê„ÄÇ">All datasets & code open source.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/language.js"></script>
    <script src="js/compare.js"></script>
</body>
</html>
